<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Bananazon.com - Earth's Most Banana Store</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: Arial, sans-serif;
                background-color: #eaeded;
            }

            /* Header Styles */
            .header {
                background-color: #131921;
                color: white;
                padding: 10px 20px;
            }

            .header-top {
                display: flex;
                align-items: center;
                gap: 20px;
                margin-bottom: 10px;
            }

            @media (max-width: 768px) {
                .header-top {
                    flex-wrap: wrap;
                    gap: 10px;
                }
            }

            .logo {
                font-size: 28px;
                font-weight: bold;
                color: white;
                text-decoration: none;
                padding: 5px 10px;
                border: 1px solid transparent;
                cursor: pointer;
            }

            @media (max-width: 768px) {
                .logo {
                    font-size: 22px;
                }
            }

            .logo:hover {
                border: 1px solid white;
            }

            .logo-text {
                letter-spacing: -1px;
            }

            .logo-smile {
                color: #ff9900;
            }

            /* Search Bar */
            .search-container {
                flex: 1;
                display: flex;
                max-width: 800px;
            }

            .search-input {
                flex: 1;
                padding: 10px;
                border: none;
                font-size: 16px;
            }

            .search-button {
                background-color: #febd69;
                border: none;
                padding: 10px 20px;
                cursor: pointer;
                border-radius: 0 4px 4px 0;
            }

            .search-button:hover {
                background-color: #f3a847;
            }

            .search-icon {
                font-size: 18px;
            }

            .search-suggestion {
                background-color: #ffffff;
                border: 1px solid #ddd;
                padding: 10px;
                margin: 5px 20px;
                border-radius: 4px;
                display: none;
                color: #333;
                font-size: 14px;
            }

            .search-suggestion.show {
                display: block;
            }

            .header-nav {
                display: flex;
                gap: 20px;
                font-size: 14px;
                overflow-x: auto;
                white-space: nowrap;
            }

            @media (max-width: 768px) {
                .header-nav {
                    gap: 10px;
                    font-size: 12px;
                    padding-bottom: 5px;
                }
            }

            .nav-item {
                color: white;
                text-decoration: none;
                padding: 5px;
                border: 1px solid transparent;
                cursor: pointer;
            }

            .nav-item:hover {
                border: 1px solid white;
            }

            .cart-count {
                background-color: #ff9900;
                color: #131921;
                border-radius: 50%;
                padding: 2px 6px;
                font-size: 12px;
                font-weight: bold;
                margin-left: 5px;
            }

            /* Main Content */
            .main-banner {
                background: linear-gradient(to bottom, #37475a, #eaeded);
                padding: 20px;
                text-align: center;
                font-size: 14px;
                color: #333;
            }

            .container {
                max-width: 1500px;
                margin: 0 auto;
                padding: 20px;
            }

            @media (max-width: 768px) {
                .container {
                    padding: 10px;
                }
            }

            .products-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 20px;
                margin-top: 20px;
            }

            @media (max-width: 768px) {
                .products-grid {
                    grid-template-columns: 1fr;
                    gap: 15px;
                }
            }

            .product-card {
                background: white;
                padding: 20px;
                border-radius: 4px;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
                transition: transform 0.2s;
                cursor: pointer;
            }

            .product-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            }

            .product-image {
                width: 100%;
                height: 200px;
                object-fit: contain;
                margin-bottom: 15px;
            }

            .product-title {
                font-size: 16px;
                color: #007185;
                margin-bottom: 10px;
                min-height: 48px;
                line-height: 1.5;
            }

            .product-rating {
                color: #ff9900;
                margin-bottom: 10px;
            }

            .product-price {
                font-size: 24px;
                color: #b12704;
                margin-bottom: 10px;
            }

            .product-prime {
                color: #007185;
                font-size: 12px;
                margin-bottom: 10px;
            }

            .add-to-cart {
                background-color: #ffd814;
                border: 1px solid #fcd200;
                border-radius: 8px;
                padding: 8px;
                width: 100%;
                cursor: pointer;
                font-size: 14px;
                margin-bottom: 5px;
            }

            .add-to-cart:hover {
                background-color: #f7ca00;
            }

            .buy-now {
                background-color: #ffa41c;
                border: 1px solid #ff8f00;
                border-radius: 8px;
                padding: 8px;
                width: 100%;
                cursor: pointer;
                font-size: 14px;
            }

            .buy-now:hover {
                background-color: #fa8900;
            }

            /* Product Detail Page */
            .product-detail {
                display: none;
                background: white;
                max-width: 1200px;
                margin: 20px auto;
                padding: 30px;
                border-radius: 8px;
            }

            .product-detail.show {
                display: block;
            }

            .product-detail-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 40px;
                margin-bottom: 40px;
            }

            @media (max-width: 768px) {
                .product-detail-grid {
                    grid-template-columns: 1fr;
                    gap: 20px;
                }
            }

            .product-detail-image {
                width: 100%;
                max-height: 500px;
                object-fit: contain;
            }

            .product-detail-info h1 {
                font-size: 24px;
                color: #0f1111;
                margin-bottom: 10px;
            }

            .product-detail-rating {
                color: #ff9900;
                margin-bottom: 20px;
                font-size: 14px;
            }

            .product-detail-price {
                font-size: 28px;
                color: #b12704;
                margin-bottom: 10px;
            }

            .product-detail-prime {
                color: #007185;
                margin-bottom: 20px;
            }

            .product-detail-description {
                margin-bottom: 20px;
                line-height: 1.6;
            }

            .product-detail-buttons {
                display: flex;
                flex-direction: column;
                gap: 10px;
                max-width: 300px;
            }

            .back-button {
                background-color: #e7e9ec;
                border: 1px solid #adb1b8;
                border-radius: 8px;
                padding: 8px;
                cursor: pointer;
                font-size: 14px;
                margin-bottom: 20px;
                display: inline-block;
                width: 100px;
            }

            .back-button:hover {
                background-color: #d5d9d9;
            }

            /* Reviews Section */
            .reviews-section {
                margin-top: 40px;
                border-top: 1px solid #ddd;
                padding-top: 30px;
            }

            .reviews-section h2 {
                font-size: 24px;
                margin-bottom: 20px;
            }

            .review {
                border-bottom: 1px solid #ddd;
                padding: 20px 0;
            }

            .review-header {
                display: flex;
                align-items: center;
                gap: 10px;
                margin-bottom: 10px;
            }

            .review-author {
                font-weight: bold;
            }

            .review-date {
                color: #565959;
                font-size: 14px;
            }

            .review-rating {
                color: #ff9900;
                margin-bottom: 10px;
            }

            .review-title {
                font-weight: bold;
                margin-bottom: 5px;
            }

            .review-text {
                color: #0f1111;
                line-height: 1.6;
            }

            .review-helpful {
                color: #565959;
                font-size: 14px;
                margin-top: 10px;
            }

            /* Cart Sidebar */
            .cart-sidebar {
                position: fixed;
                right: -400px;
                top: 0;
                width: 400px;
                height: 100%;
                background: white;
                box-shadow: -2px 0 10px rgba(0, 0, 0, 0.3);
                transition: right 0.3s;
                z-index: 1000;
                overflow-y: auto;
            }

            @media (max-width: 768px) {
                .cart-sidebar {
                    width: 100%;
                    right: -100%;
                }
            }

            .cart-sidebar.show {
                right: 0;
            }

            .cart-header {
                background-color: #232f3e;
                color: white;
                padding: 20px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .close-cart {
                background: none;
                border: none;
                color: white;
                font-size: 24px;
                cursor: pointer;
            }

            .cart-items {
                padding: 20px;
            }

            .cart-item {
                display: flex;
                gap: 15px;
                padding: 15px 0;
                border-bottom: 1px solid #ddd;
            }

            .cart-item-image {
                width: 80px;
                height: 80px;
                object-fit: contain;
            }

            .cart-item-info {
                flex: 1;
            }

            .cart-item-title {
                font-size: 14px;
                margin-bottom: 5px;
            }

            .cart-item-price {
                color: #b12704;
                font-weight: bold;
                margin-bottom: 5px;
            }

            .remove-item {
                background: none;
                border: none;
                color: #007185;
                cursor: pointer;
                font-size: 12px;
            }

            .remove-item:hover {
                color: #c7511f;
                text-decoration: underline;
            }

            .cart-total {
                padding: 20px;
                border-top: 2px solid #ddd;
                font-size: 18px;
                font-weight: bold;
            }

            .checkout-button {
                background-color: #ffd814;
                border: 1px solid #fcd200;
                border-radius: 8px;
                padding: 12px;
                width: calc(100% - 40px);
                margin: 0 20px 20px 20px;
                cursor: pointer;
                font-size: 16px;
                font-weight: bold;
            }

            .checkout-button:hover {
                background-color: #f7ca00;
            }

            .empty-cart {
                text-align: center;
                padding: 40px;
                color: #565959;
            }

            .cart-overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                z-index: 999;
            }

            .cart-overlay.show {
                display: block;
            }

            /* Footer */
            .footer {
                background-color: #232f3e;
                color: white;
                padding: 40px 20px;
                margin-top: 40px;
                text-align: center;
            }

            .back-to-top {
                background-color: #37475a;
                color: white;
                padding: 15px;
                text-align: center;
                cursor: pointer;
            }

            .back-to-top:hover {
                background-color: #485769;
            }

            /* Toast Notification */
            .toast {
                position: fixed;
                top: 80px;
                right: 20px;
                background-color: #146eb4;
                color: white;
                padding: 15px 20px;
                border-radius: 4px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
                display: none;
                z-index: 2000;
            }

            .toast.show {
                display: block;
                animation: slideIn 0.3s;
            }

            @keyframes slideIn {
                from {
                    transform: translateX(400px);
                }
                to {
                    transform: translateX(0);
                }
            }

            /* Login Modal */
            .login-modal {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.6);
                z-index: 3000;
                justify-content: center;
                align-items: center;
            }

            .login-modal.show {
                display: flex;
            }

            .login-content {
                background: white;
                padding: 40px;
                border-radius: 8px;
                width: 400px;
                max-width: 90%;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            }

            @media (max-width: 768px) {
                .login-content {
                    padding: 30px 20px;
                    width: 90%;
                }
            }

            .login-content h2 {
                margin-bottom: 20px;
                color: #0f1111;
            }

            .login-input {
                width: 100%;
                padding: 10px;
                margin-bottom: 15px;
                border: 1px solid #ddd;
                border-radius: 4px;
                font-size: 14px;
            }

            .login-input:focus {
                outline: none;
                border-color: #e77600;
                box-shadow: 0 0 3px 2px rgba(228, 121, 17, 0.5);
            }

            .login-button {
                width: 100%;
                background-color: #ffd814;
                border: 1px solid #fcd200;
                border-radius: 8px;
                padding: 12px;
                cursor: pointer;
                font-size: 16px;
                margin-bottom: 10px;
            }

            .login-button:hover {
                background-color: #f7ca00;
            }

            .login-close {
                background-color: #e7e9ec;
                border: 1px solid #adb1b8;
                border-radius: 8px;
                padding: 8px;
                cursor: pointer;
                font-size: 14px;
                width: 100%;
            }

            .login-close:hover {
                background-color: #d5d9d9;
            }

            .user-greeting {
                font-size: 12px;
            }

            @media (max-width: 768px) {
                .search-container {
                    order: 3;
                    width: 100%;
                    max-width: 100%;
                }

                .header-top > div:last-child {
                    font-size: 12px;
                }

                .nav-item {
                    font-size: 11px;
                    padding: 3px;
                }

                .product-card {
                    padding: 15px;
                }

                .product-detail {
                    padding: 20px 10px;
                }

                .product-detail-info h1 {
                    font-size: 20px;
                }

                .product-detail-price {
                    font-size: 24px;
                }

                .toast {
                    right: 10px;
                    left: 10px;
                    top: 70px;
                }
            }
        </style>
    </head>
    <body>
        <!-- Header -->
        <div class="header">
            <div class="header-top">
                <div class="logo" onclick="showHomePage()">
                    <span class="logo-text">bananazon</span
                    ><span class="logo-smile">🍌</span>
                </div>

                <div class="search-container">
                    <input
                        type="text"
                        class="search-input"
                        id="searchInput"
                        placeholder="Search Bananazon"
                    />
                    <button class="search-button" onclick="search()">
                        <span class="search-icon">🔍</span>
                    </button>
                </div>

                <div style="display: flex; gap: 15px">
                    <div class="nav-item" onclick="signIn()" id="accountButton">
                        <span id="userGreeting"
                            >Hello, Sign in<br /><strong
                                >Account & Lists</strong
                            ></span
                        >
                    </div>
                    <div class="nav-item" onclick="showOrders()">
                        Returns<br /><strong>& Orders</strong>
                    </div>
                    <div
                        class="nav-item"
                        style="font-size: 20px"
                        onclick="toggleCart()"
                    >
                        🛒 Cart<span class="cart-count" id="cartCount">0</span>
                    </div>
                </div>
            </div>

            <div class="header-nav">
                <div class="nav-item" onclick="showCategory('All Bananas')">
                    All Bananas
                </div>
                <div class="nav-item" onclick="showCategory('Today\'s Deals')">
                    Today's Deals
                </div>
                <div class="nav-item" onclick="showCategory('Fresh Bananas')">
                    Fresh Bananas
                </div>
                <div class="nav-item" onclick="showCategory('Organic Bananas')">
                    Organic Bananas
                </div>
                <div class="nav-item" onclick="showCategory('Gift Bananas')">
                    Gift Bananas
                </div>
                <div class="nav-item" onclick="showCategory('Registry')">
                    Registry
                </div>
                <div class="nav-item" onclick="showCategory('Sell Bananas')">
                    Sell Bananas
                </div>
            </div>
        </div>

        <!-- Search Suggestion -->
        <div class="search-suggestion" id="searchSuggestion">
            Did you mean: <strong>banana</strong>?
        </div>

        <!-- Toast Notification -->
        <div class="toast" id="toast"></div>

        <!-- Login Modal -->
        <div
            class="login-modal"
            id="loginModal"
            onclick="closeLoginModal(event)"
        >
            <div class="login-content" onclick="event.stopPropagation()">
                <h2>Sign in to Bananazon</h2>
                <input
                    type="text"
                    class="login-input"
                    id="usernameInput"
                    placeholder="Username"
                    onkeypress="handleLoginKeypress(event)"
                />
                <input
                    type="password"
                    class="login-input"
                    id="passwordInput"
                    placeholder="Password"
                    onkeypress="handleLoginKeypress(event)"
                />
                <button class="login-button" onclick="handleLogin()">
                    Sign In
                </button>
                <button class="login-close" onclick="closeLoginModal()">
                    Cancel
                </button>
            </div>
        </div>

        <!-- Cart Overlay -->
        <div class="cart-overlay" id="cartOverlay" onclick="toggleCart()"></div>

        <!-- Cart Sidebar -->
        <div class="cart-sidebar" id="cartSidebar">
            <div class="cart-header">
                <h2>Shopping Cart</h2>
                <button class="close-cart" onclick="toggleCart()">×</button>
            </div>
            <div class="cart-items" id="cartItems">
                <div class="empty-cart">Your cart is empty</div>
            </div>
            <div class="cart-total" id="cartTotal" style="display: none">
                Subtotal: <span id="totalPrice">$0.00</span>
            </div>
            <button
                class="checkout-button"
                id="checkoutButton"
                style="display: none"
                onclick="checkout()"
            >
                Proceed to Checkout
            </button>
        </div>

        <!-- Main Banner -->
        <div class="main-banner">
            You are on bananazon.com. You can also shop on Bananazon Australia
            for millions of bananas.
        </div>

        <!-- Home Page Products -->
        <div class="container" id="homePage">
            <h2 style="margin-bottom: 20px">Top Bananas For You</h2>

            <div class="products-grid" id="productsGrid">
                <!-- Products will be generated by JavaScript -->
            </div>
        </div>

        <!-- Product Detail Page -->
        <div class="product-detail" id="productDetail">
            <button class="back-button" onclick="showHomePage()">← Back</button>
            <div class="product-detail-grid">
                <div>
                    <img
                        id="detailImage"
                        class="product-detail-image"
                        src=""
                        alt="Product"
                    />
                </div>
                <div class="product-detail-info">
                    <h1 id="detailTitle"></h1>
                    <div class="product-detail-rating" id="detailRating"></div>
                    <div class="product-detail-price" id="detailPrice"></div>
                    <div class="product-detail-prime">
                        🚚 FREE Delivery with Prime
                    </div>
                    <div
                        class="product-detail-description"
                        id="detailDescription"
                    ></div>
                    <div class="product-detail-buttons">
                        <button
                            class="add-to-cart"
                            onclick="addToCartFromDetail()"
                        >
                            Add to Cart
                        </button>
                        <button class="buy-now" onclick="buyNow()">
                            Buy Now
                        </button>
                    </div>
                </div>
            </div>

            <!-- Reviews Section -->
            <div class="reviews-section">
                <h2>Customer Reviews</h2>
                <div id="reviewsList">
                    <!-- Reviews will be generated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Back to Top -->
        <div class="back-to-top" onclick="window.scrollTo(0,0)">
            Back to top
        </div>

        <!-- Footer -->
        <div class="footer">
            <p style="margin-bottom: 20px">Made with 🍌 by Bananazon</p>
            <p style="font-size: 12px; color: #999">
                © 2024, Bananazon.com, Inc. or its banana affiliates
            </p>
        </div>

        <script>
            // Product Data
            const products = [
                {
                    id: 1,
                    title: "Fresh Organic Bananas, 1 Bunch (6-8 Bananas)",
                    price: 3.99,
                    rating: 5,
                    reviews: 45892,
                    image: "https://images.unsplash.com/photo-1603833665858-e61d17a86224?w=400&h=400&fit=crop",
                    description:
                        "Premium organic bananas, hand-selected for perfect ripeness. Grown without pesticides on sustainable farms. Perfect for snacking, smoothies, or baking!",
                },
                {
                    id: 2,
                    title: "Premium Yellow Bananas - Perfectly Ripe, Family Size Pack",
                    price: 5.49,
                    rating: 4,
                    reviews: 32441,
                    image: "https://images.unsplash.com/photo-1571771894821-ce9b6c11b08e?w=400&h=400&fit=crop",
                    description:
                        "Family-sized pack of perfectly ripe yellow bananas. Great value for families who love bananas! Each banana is carefully inspected for quality.",
                },
                {
                    id: 3,
                    title: "Single Banana - Perfect for Snacking",
                    price: 0.59,
                    rating: 5,
                    reviews: 89234,
                    image: "https://images.unsplash.com/photo-1587132137056-bfbf0166836e?w=400&h=400&fit=crop",
                    description:
                        "Just one banana. That's it. Perfect for when you only need one banana. The most popular single banana on Bananazon!",
                },
                {
                    id: 4,
                    title: "Organic Fair Trade Bananas - Ethically Sourced, Premium Quality",
                    price: 6.99,
                    rating: 5,
                    reviews: 12678,
                    image: "https://images.unsplash.com/photo-1603833665858-e61d17a86224?w=400&h=400&fit=crop",
                    description:
                        "Support fair trade with these ethically sourced organic bananas. Every purchase helps farming communities around the world.",
                },
                {
                    id: 5,
                    title: "Baby Bananas - Mini Size, Big Flavor (12 Count)",
                    price: 4.29,
                    rating: 4,
                    reviews: 23456,
                    image: "https://images.unsplash.com/photo-1571771894821-ce9b6c11b08e?w=400&h=400&fit=crop",
                    description:
                        "Adorable baby bananas pack a sweet punch! Perfect for lunch boxes and small hands. Sweeter than regular bananas!",
                },
                {
                    id: 6,
                    title: "Plantain Bananas - Green, Perfect for Cooking (4 Pack)",
                    price: 3.49,
                    rating: 5,
                    reviews: 18903,
                    image: "https://images.unsplash.com/photo-1587132137056-bfbf0166836e?w=400&h=400&fit=crop",
                    description:
                        "Green plantains ideal for frying, baking, or boiling. A staple in Caribbean and Latin American cuisine. Starchy and delicious!",
                },
                {
                    id: 7,
                    title: "Red Bananas - Exotic Sweet Variety, Bunch of 5",
                    price: 7.99,
                    rating: 4,
                    reviews: 9234,
                    image: "https://images.unsplash.com/photo-1603833665858-e61d17a86224?w=400&h=400&fit=crop",
                    description:
                        "Experience the exotic! Red bananas are sweeter and creamier than yellow bananas. A unique tropical treat you'll love.",
                },
                {
                    id: 8,
                    title: "Banana Starter Kit - 3 Different Varieties, Perfect for Banana Lovers",
                    price: 12.99,
                    rating: 5,
                    reviews: 56789,
                    image: "https://images.unsplash.com/photo-1571771894821-ce9b6c11b08e?w=400&h=400&fit=crop",
                    description:
                        "Can't decide? Try them all! Includes yellow, baby, and red bananas. The perfect introduction to the wonderful world of bananas!",
                },
                {
                    id: 9,
                    title: "Overripe Bananas - Perfect for Banana Bread (Discounted!)",
                    price: 1.99,
                    rating: 4,
                    reviews: 34567,
                    image: "https://images.unsplash.com/photo-1587132137056-bfbf0166836e?w=400&h=400&fit=crop",
                    description:
                        "Spotted and ready for baking! These overripe bananas are perfect for banana bread, muffins, or smoothies. Save money and reduce waste!",
                },
                {
                    id: 10,
                    title: "Jumbo Bananas - Extra Large Size, Premium Select",
                    price: 4.99,
                    rating: 5,
                    reviews: 28901,
                    image: "https://images.unsplash.com/photo-1603833665858-e61d17a86224?w=400&h=400&fit=crop",
                    description:
                        "Massive bananas for massive appetites! Each banana is oversized and full of flavor. The biggest bananas you'll ever see!",
                },
                {
                    id: 11,
                    title: "Freeze-Dried Banana Chips - NOT Actually Bananas, Just Chips Shaped Like Bananas",
                    price: 8.99,
                    rating: 3,
                    reviews: 5432,
                    image: "https://images.unsplash.com/photo-1571771894821-ce9b6c11b08e?w=400&h=400&fit=crop",
                    description:
                        "Wait, what? These aren't real bananas? Just chips? In banana shape? Well, they're still delicious! Crunchy snacking fun!",
                },
                {
                    id: 12,
                    title: "Mystery Banana Box - 20 Random Bananas, Could Be Any Variety!",
                    price: 19.99,
                    rating: 5,
                    reviews: 67890,
                    image: "https://images.unsplash.com/photo-1587132137056-bfbf0166836e?w=400&h=400&fit=crop",
                    description:
                        "Feeling adventurous? You'll get 20 random bananas - could be any variety! It's like Christmas morning but with bananas!",
                },
            ];

            // Sample reviews data
            const reviewsData = {
                1: [
                    {
                        author: "BananaFan42",
                        date: "December 15, 2024",
                        rating: 5,
                        title: "Best bananas ever!",
                        text: "These are hands down the best organic bananas I've ever purchased. Perfect ripeness, great taste, and they lasted over a week!",
                        helpful: 342,
                    },
                    {
                        author: "HealthyEater",
                        date: "December 10, 2024",
                        rating: 5,
                        title: "So fresh!",
                        text: "Arrived in perfect condition. Great for my morning smoothies!",
                        helpful: 156,
                    },
                    {
                        author: "MonkeyBusiness",
                        date: "December 5, 2024",
                        rating: 4,
                        title: "Good but expensive",
                        text: "Quality is excellent but the price is a bit high compared to my local store.",
                        helpful: 89,
                    },
                ],
                2: [
                    {
                        author: "MomOf4",
                        date: "December 12, 2024",
                        rating: 5,
                        title: "Perfect for my family",
                        text: "Family size is no joke! Plenty of bananas for all my kids. Will definitely order again.",
                        helpful: 234,
                    },
                    {
                        author: "BananaLover99",
                        date: "December 8, 2024",
                        rating: 4,
                        title: "Great value",
                        text: "Good quality and quantity. One banana had a bruise but overall happy with the purchase.",
                        helpful: 112,
                    },
                ],
                3: [
                    {
                        author: "JustOneGuy",
                        date: "December 18, 2024",
                        rating: 5,
                        title: "It's literally just one banana",
                        text: "I needed exactly one banana and this is exactly one banana. 11/10 would banana again.",
                        helpful: 1289,
                    },
                    {
                        author: "SingleLife",
                        date: "December 14, 2024",
                        rating: 5,
                        title: "Perfect portion",
                        text: "As a single person, I don't need a whole bunch. This is ideal!",
                        helpful: 456,
                    },
                    {
                        author: "Confused",
                        date: "December 1, 2024",
                        rating: 5,
                        title: "Why did I buy this?",
                        text: "I could have just bought one banana at the store but here we are. 5 stars because it arrived.",
                        helpful: 2103,
                    },
                ],
            };

            // Shopping cart
            let cart = [];
            let currentProduct = null;

            // Initialize page
            window.onload = function () {
                renderProducts();
                updateCartCount();
            };

            // Render products
            function renderProducts() {
                const grid = document.getElementById("productsGrid");
                grid.innerHTML = products
                    .map(
                        (product) => `
                <div class="product-card" onclick="showProductDetail(${product.id})">
                    <img src="${product.image}" alt="${product.title}" class="product-image">
                    <div class="product-title">${product.title}</div>
                    <div class="product-rating">${"★".repeat(product.rating)}${"☆".repeat(5 - product.rating)} ${product.reviews.toLocaleString()} ratings</div>
                    <div class="product-price">$${product.price.toFixed(2)}</div>
                    <div class="product-prime">🚚 FREE Delivery with Prime</div>
                    <button class="add-to-cart" onclick="addToCart(event, ${product.id})">Add to Cart</button>
                    <button class="buy-now" onclick="buyNowFromCard(event, ${product.id})">Buy Now</button>
                </div>
            `,
                    )
                    .join("");
            }

            // Show product detail
            function showProductDetail(productId) {
                const product = products.find((p) => p.id === productId);
                if (!product) return;

                currentProduct = product;

                document.getElementById("detailImage").src = product.image;
                document.getElementById("detailTitle").textContent =
                    product.title;
                document.getElementById("detailRating").innerHTML =
                    `${"★".repeat(product.rating)}${"☆".repeat(5 - product.rating)} ${product.reviews.toLocaleString()} ratings`;
                document.getElementById("detailPrice").textContent =
                    `$${product.price.toFixed(2)}`;
                document.getElementById("detailDescription").textContent =
                    product.description;

                // Render reviews
                const reviews = reviewsData[productId] || [
                    {
                        author: "BananaEnthusiast",
                        date: "December 1, 2024",
                        rating: 5,
                        title: "Amazing bananas!",
                        text: "These bananas exceeded all my expectations. Highly recommend!",
                        helpful: 123,
                    },
                ];

                document.getElementById("reviewsList").innerHTML = reviews
                    .map(
                        (review) => `
                <div class="review">
                    <div class="review-header">
                        <span class="review-author">${review.author}</span>
                        <span class="review-date">on ${review.date}</span>
                    </div>
                    <div class="review-rating">${"★".repeat(review.rating)}${"☆".repeat(5 - review.rating)}</div>
                    <div class="review-title">${review.title}</div>
                    <div class="review-text">${review.text}</div>
                    <div class="review-helpful">${review.helpful} people found this helpful</div>
                </div>
            `,
                    )
                    .join("");

                document.getElementById("homePage").style.display = "none";
                document.getElementById("productDetail").classList.add("show");
                window.scrollTo(0, 0);
            }

            // Show home page
            function showHomePage() {
                document
                    .getElementById("productDetail")
                    .classList.remove("show");
                document.getElementById("homePage").style.display = "block";
                currentProduct = null;
                window.scrollTo(0, 0);
            }

            // Add to cart from product card
            function addToCart(event, productId) {
                event.stopPropagation();
                const product = products.find((p) => p.id === productId);
                if (!product) return;

                cart.push({ ...product });
                updateCartCount();
                updateCartDisplay();
                showToast(`${product.title} added to cart!`);
            }

            // Add to cart from detail page
            function addToCartFromDetail() {
                if (!currentProduct) return;
                cart.push({ ...currentProduct });
                updateCartCount();
                updateCartDisplay();
                showToast(`${currentProduct.title} added to cart!`);
            }

            // Buy now from card
            function buyNowFromCard(event, productId) {
                event.stopPropagation();
                addToCart(event, productId);
                setTimeout(() => {
                    toggleCart();
                }, 500);
            }

            // Buy now from detail page
            function buyNow() {
                if (!currentProduct) return;
                cart.push({ ...currentProduct });
                updateCartCount();
                updateCartDisplay();
                showToast(`${currentProduct.title} added to cart!`);
                setTimeout(() => {
                    toggleCart();
                }, 500);
            }

            // Update cart count
            function updateCartCount() {
                document.getElementById("cartCount").textContent = cart.length;
            }

            // Update cart display
            function updateCartDisplay() {
                const cartItems = document.getElementById("cartItems");
                const cartTotal = document.getElementById("cartTotal");
                const checkoutButton =
                    document.getElementById("checkoutButton");

                if (cart.length === 0) {
                    cartItems.innerHTML =
                        '<div class="empty-cart">Your cart is empty</div>';
                    cartTotal.style.display = "none";
                    checkoutButton.style.display = "none";
                    return;
                }

                const total = cart.reduce((sum, item) => sum + item.price, 0);

                cartItems.innerHTML = cart
                    .map(
                        (item, index) => `
                <div class="cart-item">
                    <img src="${item.image}" alt="${item.title}" class="cart-item-image">
                    <div class="cart-item-info">
                        <div class="cart-item-title">${item.title}</div>
                        <div class="cart-item-price">$${item.price.toFixed(2)}</div>
                        <button class="remove-item" onclick="removeFromCart(${index})">Remove</button>
                    </div>
                </div>
            `,
                    )
                    .join("");

                document.getElementById("totalPrice").textContent =
                    `$${total.toFixed(2)}`;
                cartTotal.style.display = "block";
                checkoutButton.style.display = "block";
            }

            // Remove from cart
            function removeFromCart(index) {
                const removedItem = cart[index];
                cart.splice(index, 1);
                updateCartCount();
                updateCartDisplay();
                showToast(`${removedItem.title} removed from cart`);
            }

            // Toggle cart
            function toggleCart() {
                const cartSidebar = document.getElementById("cartSidebar");
                const cartOverlay = document.getElementById("cartOverlay");

                cartSidebar.classList.toggle("show");
                cartOverlay.classList.toggle("show");

                if (cartSidebar.classList.contains("show")) {
                    updateCartDisplay();
                }
            }

            // Checkout
            function checkout() {
                if (cart.length === 0) return;

                const total = cart.reduce((sum, item) => sum + item.price, 0);
                alert(
                    `🍌 Thank you for your order!\n\nTotal: $${total.toFixed(2)}\n\nYour ${cart.length} banana product${cart.length > 1 ? "s" : ""} will arrive in 2 days!\n\n(This is just a demo - no actual purchase was made)`,
                );

                cart = [];
                updateCartCount();
                updateCartDisplay();
                toggleCart();
            }

            // Show toast notification
            function showToast(message) {
                const toast = document.getElementById("toast");
                toast.textContent = message;
                toast.classList.add("show");

                setTimeout(() => {
                    toast.classList.remove("show");
                }, 3000);
            }

            // Search functionality
            const searchInput = document.getElementById("searchInput");
            const searchSuggestion =
                document.getElementById("searchSuggestion");

            searchInput.addEventListener("input", function () {
                if (this.value.trim() !== "") {
                    searchSuggestion.classList.add("show");
                } else {
                    searchSuggestion.classList.remove("show");
                }
            });

            function search() {
                const searchTerm = searchInput.value.trim();
                if (searchTerm !== "") {
                    searchSuggestion.classList.add("show");
                }
            }

            searchInput.addEventListener("keypress", function (e) {
                if (e.key === "Enter") {
                    search();
                }
            });

            // Category navigation
            function showCategory(category) {
                const messages = {
                    "All Bananas":
                        "🍌 Welcome to All Bananas!\n\nBrowsing through our entire collection of... bananas! Every single product is a banana. Surprise! 🎉",
                    "Today's Deals":
                        "💰 Today's Banana Deals!\n\n🍌 Single Banana - Now only $0.59!\n🍌 Overripe Bananas - Just $1.99!\n🍌 Mystery Banana Box - Save $5!\n\nEvery day is banana deal day!",
                    "Fresh Bananas":
                        "🌿 Fresh Bananas Section\n\nYou're already looking at fresh bananas! In fact, ALL our bananas are fresh. We only sell fresh bananas. Did we mention they're fresh?",
                    "Organic Bananas":
                        "🌱 Organic Bananas\n\nLooking for organic bananas? Great choice! We have:\n• Fresh Organic Bananas\n• Organic Fair Trade Bananas\n• Organically grown... bananas\n\nBasically all bananas but fancier! 🌿",
                    "Gift Bananas":
                        '🎁 Gift Bananas\n\n"Here\'s a banana!" - The perfect gift for any occasion!\n\n💝 Birthdays? Banana.\n💍 Weddings? Banana.\n🎓 Graduation? Believe it or not, banana.\n\nNothing says "I love you" like a banana! 🍌',
                    Registry:
                        "📝 Banana Registry\n\nCreate your banana wishlist today!\n\n\"We're registered at Bananazon!\"\n\nYour guests can buy you:\n• Bananas\n• More bananas\n• Even more bananas\n• (Spoiler: it's all bananas)",
                    "Sell Bananas":
                        "💼 Sell Your Bananas on Bananazon!\n\nDo you have bananas? We want them!\n\nRequirements:\n✅ Must be a banana\n✅ Should look like a banana\n✅ Bonus points if it's yellow\n\nStart your banana empire today! 🍌📈",
                };

                alert(messages[category]);
            }

            // User state
            let currentUser = null;

            // Sign In
            function signIn() {
                if (currentUser) {
                    // Already signed in, show account info
                    alert(
                        `👤 Account: ${currentUser}\n\n✅ You're signed in!\n\nYour benefits:\n• Unlimited banana browsing\n• Access to all bananas\n• Ability to buy bananas\n• Exclusive deals on... bananas!\n\n🍌 Happy banana shopping!`,
                    );
                } else {
                    // Show login modal
                    document.getElementById("loginModal").classList.add("show");
                    document.getElementById("usernameInput").focus();
                }
            }

            // Handle login
            function handleLogin() {
                const username = document
                    .getElementById("usernameInput")
                    .value.trim();
                const password = document.getElementById("passwordInput").value;

                if (!username) {
                    alert("Please enter a username!");
                    return;
                }

                if (!password) {
                    alert("Please enter a password!");
                    return;
                }

                // "Log in" the user (no actual authentication, just store the username)
                currentUser = username;

                // Update the greeting
                updateUserGreeting();

                // Close modal
                closeLoginModal();

                // Clear inputs
                document.getElementById("usernameInput").value = "";
                document.getElementById("passwordInput").value = "";

                // Show welcome message
                showToast(
                    `Welcome back, ${currentUser}! Looking for more bananas? 🍌`,
                );

                // Also show an alert
                setTimeout(() => {
                    alert(
                        `🎉 Welcome back, ${currentUser}!\n\nLooking for more bananas?\n\nYour banana shopping experience just got even better!\n\n✨ Account benefits:\n• Unlimited banana browsing\n• Access to all bananas\n• Ability to buy bananas\n• Exclusive deals on... bananas!\n\nHappy shopping! 🍌`,
                    );
                }, 500);
            }

            // Update user greeting in header
            function updateUserGreeting() {
                const greetingElement = document.getElementById("userGreeting");
                if (currentUser) {
                    greetingElement.innerHTML = `Hello, ${currentUser}<br /><strong>Account & Lists</strong>`;
                } else {
                    greetingElement.innerHTML = `Hello, Sign in<br /><strong>Account & Lists</strong>`;
                }
            }

            // Close login modal
            function closeLoginModal(event) {
                if (
                    event &&
                    event.target !== document.getElementById("loginModal")
                ) {
                    return;
                }
                document.getElementById("loginModal").classList.remove("show");
            }

            // Handle Enter key in login inputs
            function handleLoginKeypress(event) {
                if (event.key === "Enter") {
                    handleLogin();
                }
            }

            // Returns & Orders
            function showOrders() {
                if (!currentUser) {
                    alert("Please sign in to view your orders!");
                    signIn();
                    return;
                }

                alert(
                    `📦 ${currentUser}'s Orders\n\nRecent Orders:\n\n1. Single Banana - Delivered Dec 18\n   ⭐⭐⭐⭐⭐ "It was a banana"\n\n2. Mystery Banana Box - Arriving Dec 25\n   🎁 Tracking: BANANA-12345\n\n3. Organic Bananas - Delivered Dec 15\n   ⭐⭐⭐⭐⭐ "Very banana-like"\n\nAll orders are bananas. Did you expect anything else? 🍌📦`,
                );
            }
        </script>
    </body>
</html>
